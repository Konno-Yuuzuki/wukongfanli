<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>悟空返利</title>
    <link rel="stylesheet" href="../css/register1.css">
    <script src="../vender/jquery/dist/jquery.js"></script>
    <script src="../js/lib/placeholder.js"></script>
</head>

<body>
<!--客户信息开始-->
<div class="header">
    <div class="user-info">
        <ul>
            <li><a href="">你好，请登录</a></li>
            <li class="active"><a href="">免费注册</a></li>
            <li><em></em></li>
            <li><a href="">我的订单</a></li>
            <li><em></em></li>
            <li class="sh-bag">
                <span></span>
                <a href="">购物袋</a>
                <i>0</i>
            </li>
            <li><em></em></li>
            <li><a href="">商家中心</a></li>
            <li><em></em></li>
            <li><a href="">客户服务</a></li>
        </ul>
    </div>
</div>
<!--客户信息结束-->
<!-- logo-搜索开始 -->
<div class="logo-search">
    <div class="lo-sea">
        <div class="logo">
            <h1>
                <a href="../index.html"></a></h1>
        </div>
        <div class="search">
            <form action="searchIfo">
                <label for="seacrhIfo"></label>
                <input type="text" placeholder="请输入想找的宝贝" id="seacrhIfo"/>
                <button type="submit">搜索</button>
            </form>
        </div>
        <div class="info">
            <ul>
                <li>
                    <a href="">
                        10:00上新
                        <i class="t-updata"></i>
                    </a>
                </li>
                <li class="info-line"></li>
                <li>
                    <a href="">
                        超值低价
                        <i class="pr-cp"></i>
                    </a>
                </li>
                <li class="info-line"></li>
                <li>
                    <a href="">
                        验货质检
                        <i class="inspection"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
<!-- logo-搜索结束 -->
<!--注册开始-->
<div class="register">
    <div class="register-c">
        <!-- 注册标题 -->
        <div class="reg-top">
            <p class="reg-title">
                <span class="hd">新用户注册/</span>
                <span class="tips">免费注册，网购省钱，积分换礼</span></p>
            <p class="ex-acc">
                已有账号，
                <a href="../login/login.html">立即登录</a>
            </p>
        </div>
        <!-- 注册表单 -->
        <div class="reg-form clear clearfix">
            <div action="" id="formRegister" class="formRegister">
                <ul>
                    <li>
                        <label for="tel">手机号码：</label>
                        <input type="number" id="phoneNumber" placeholder="请输入手机号码" autocomplete="off">
                        <div class="hint" id="phoneNumberError">
                            <i class=""></i>
                            <p>请输入手机号码</p>
                        </div>
                        <span>或
                                <a href="./email.html">邮箱注册</a>
                            </span>
                    </li>
                    <li>
                        <label for="password">输入密码：</label>
                        <input type="password" id="password" placeholder="密码必须为6-25位数字、字母、符号">
                        <div class="hint" id="passwordHint">
                            <i class=""></i>
                            <p>密码格式不规范</p>
                        </div>
                        <div class="complex-pwd">
                            <span class="com"></span>
                            <span class="com"></span>
                            <span></span>
                            <em>中</em>
                        </div>
                    </li>
                    <li class="message-code">
                        <label for="con_password">确认密码：</label>
                        <input type="password" id="con_password" placeholder="请重新输入">
                        <div class="hint" id="rePasswordHint">
                            <i class=""></i>
                            <p></p>
                        </div>
                    </li>
                    <li>
                        <label for="mess_code">验证码：</label>
                        <input type="text" id="mess_code" placeholder="验证码">
                        <input type="button" value="获取短信验证码">
                        <div class="hint">
                            <i></i>
                            <p>短信验证码有误</p>
                        </div>
                    </li>
                    <li class="agreement">
                        <label>
                            <input type="checkbox" name="" value="">
                            <strong>我已阅读并同意悟空返利的</strong>
                            <a href="">使用协议</a>
                        </label>
                    </li>
                    <li>
                        <label for=""></label>
                        <input type="submit" value="立即注册">
                    </li>
                </ul>
            </div>
            <ol class="partner">
                <li>
                    <h3>使用合作网站账号一键登录</h3></li>
                <li>
                    <i class="taobao"></i>
                    <a href="">使用淘宝账号登录</a>
                </li>
                <li>
                    <i class="qq"></i>
                    <a href="">使用QQ账号登录</a>
                </li>
                <li>
                    <i class="wechat"></i>
                    <a href="">使用微信账号登录</a>
                </li>
                <li>
                    <i class="weibo"></i>
                    <a href="">使用微博账号登录</a>
                </li>
            </ol>
        </div>
    </div>
</div>
<!--注册结束-->
</body>
<script>
    $(document).ready(function () {
        /*验证信息*/
        var phoneNumber1 = /^[1]{1}[0-9]{10}/;
//        var password1 = /^(\w){8,16}$/;
        var password1 = /^[a-zA-Z0-9]{8,16}$/;
        var infoState = {
            phoneNumber: false,
            password: false,
            con_password: false
        }
        /*手机号码*/
        $("#phoneNumber").on("blur", function () {
            var phoneNumber = $("#phoneNumber").val();
            if (phoneNumber.length == 0) {
                $("#phoneNumber").addClass("error");
                $("#phoneNumberError i").removeClass("correct").addClass("error");
                $("#phoneNumberError").show();
            } else if (!phoneNumber1.test(phoneNumber)) {
                $("#phoneNumberError p").html("请输入11位数手机号码");
                $("#phoneNumberError").show();
            } else {
                $("#phoneNumber").removeClass("error");
                $("#phoneNumberError i").removeClass("error").addClass("correct");
                $("#phoneNumberError p").html("");
                $("#phoneNumberError").show();
                infoState.phoneNumber = true;
            }
        });

        /*密码*/
        $("#password").on("blur", function () {
            var password = $("#password").val();
            console.log(typeof(password));
            if (password.length == 0) {
                $("#password").addClass("error");
                $("#passwordHint i").removeClass("correct").addClass("error");
                $("#passwordHint p").html("密码不能为空");
                $("#passwordHint").show();
            } else if (!password1.test(password)) {
                $("#password").addClass("error");
                $("#passwordHint i").removeClass("correct").addClass("error");
                $("#passwordHint p").html("密码格式不正确");
                $("#passwordHint").show();
            } else {
                $("#password").removeClass("error");
                $("#passwordHint i").removeClass("error").addClass("correct");
                $("#passwordHint p").html("");
                $("#passwordHint").show();
                infoState.password = true;
            }
        });

        /*确认密码*/
        $("#con_password").on("blur", function () {
            var rePossword = $("#con_password").val();
            console.log(typeof(rePossword));
            if (rePossword != $("#password").val() || rePossword.length == 0) {
                $("#con_password").addClass("error");
                $("#rePasswordHint i").removeClass("correct").addClass("error");
                $("#rePasswordHint p").html("两次密码输入不一致");
                $("#rePasswordHint").show();
                console.log("11");
            } else {
                $("#con_password").removeClass("error");
                $("#rePasswordHint i").removeClass("error").addClass("correct");
                $("#rePasswordHint p").html("");
                $("#rePasswordHint").show();
                infoState.con_password = true;
            }
        })

        /*提交表单*/
        $("input[type='submit']").on("click", function () {

//            var userRegisterData = "user_info=" + $("#phoneNumber").val() + "," + "password=" + $("#password").val();


            var userRegisterData = {
                userInfo: $("#phoneNumber").val(),
                userAuths: $("#password").val()
            };

            console.log(userRegisterData);
            $.ajax({
                url: "http://www.wukongfanli.com/WukongServer/user_register",
                type: "POST",
                data: userRegisterData,
                dataType: "jsonp",
                success: function (data) {
                    console.log(data);
                },
                error: function (data) {

                }
            })

        })


        /*$.ajax({
                url: "WukongServer/user_register",
                type: "POST",
                success: function (successData) {
                    console.log("success:" + successData);
                },
                error: function (errorData) {
                    console.log("error:" + errorData);
                }
            })*/


    })
</script>

</html>